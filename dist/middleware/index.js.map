{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/middleware/index.ts"],"names":[],"mappings":"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"}